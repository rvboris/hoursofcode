(function(){var a=function(a){var b=function(b){function t(a){return((a||"")+"").replace(/[\\.+*?\^$\[\](){}\/'#]/g,"\\$&")}function u(a){if(!a)return"";var b=RegExp("^"+t(g.prependHash)+"|"+t(g.appendHash)+"$","g");return a.replace(b,"")}function v(){var a=m.exec(g.getURL());return a&&a[1]?decodeURIComponent(a[1]):""}function w(){return k?k.contentWindow.frameHash:null}function x(){k=d.createElement("iframe"),k.src="about:blank",k.style.display="none",d.body.appendChild(k)}function y(){if(k&&h!==w()){var a=k.contentWindow.document;a.open(),a.write("<html><head><title>"+d.title+'</title><script type="text/javascript">var frameHash="'+h+'";</script></head><body>&nbsp;</body></html>'),a.close()}}function z(a,b){if(h!==a){var c=h;h=a,r&&(b?k.contentWindow.frameHash=a:y()),g.changed.dispatch(u(a),u(c))}}function A(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function B(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}function C(a){a=Array.prototype.slice.call(arguments);var b=a.join(g.separator);return b=b?g.prependHash+b.replace(o,"")+g.appendHash:b}function D(a){return a=encodeURI(a),p&&s&&(a=a.replace(/\?/,"%3F")),a}var g,h,i,j,k,l,c=25,d=b.document,f=(b.history,a.Signal),m=/#(.*)$/,n=/(\?.*)|(\#.*)/,o=/^\#/,p=!1,q="onhashchange"in b&&7!==d.documentMode,r=p&&!q,s="file:"===location.protocol;return l=r?function(){var a=v(),b=w();b!==h&&b!==a?g.setHash(u(b)):a!==h&&z(a)}:function(){var a=v();a!==h&&z(a)},g={VERSION:"1.1.4",appendHash:"",prependHash:"/",separator:"/",changed:new f,stopped:new f,initialized:new f,init:function(){j||(h=v(),q?A(b,"hashchange",l):(r&&(k||x(),y()),i=setInterval(l,c)),j=!0,g.initialized.dispatch(u(h)))},stop:function(){j&&(q?B(b,"hashchange",l):(clearInterval(i),i=null),j=!1,g.stopped.dispatch(u(h)))},isActive:function(){return j},getURL:function(){return b.location.href},getBaseURL:function(){return g.getURL().replace(n,"")},setHash:function(a){a=C.apply(null,arguments),a!==h&&(z(a),a===h&&(b.location.hash="#"+D(a)))},replaceHash:function(a){a=C.apply(null,arguments),a!==h&&(z(a,!0),a===h&&b.location.replace("#"+D(a)))},getHash:function(){return u(h)},getHashAsArray:function(){return g.getHash().split(g.separator)},dispose:function(){g.stop(),g.initialized.dispose(),g.stopped.dispose(),g.changed.dispose(),k=g=b.hasher=null},toString:function(){return'[hasher version="'+g.VERSION+'" hash="'+g.getHash()+'"]'}},g.initialized.memorize=!0,g}(window);return b};"function"==typeof define&&define.amd?define(["signals"],a):"object"==typeof exports?module.exports=a(require("signals")):window.hasher=a(window.signals)})();